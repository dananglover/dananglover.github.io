### ğŸ§­ **Cursor Rules for Danang Lover (Vite + React + TypeScript PWA)**

#### ğŸ§± Architecture Rules

* âœ… Structure code in 3 clearly separated layers:

  * **UI Layer** (`components/`, `pages/`, `widgets/`): Pure presentational React components only
  * **Service Layer** (`services/`): Handle business logic, use cases, validation
  * **Repository Layer** (`repositories/`): Encapsulate all Supabase + localStorage access
* âœ… Never call Supabase directly from UI components â€” always go through Repository layer
* âœ… Use Dependency Injection (if feasible) in service layer to keep testable logic

#### ğŸ—ƒï¸ Database Rules

* âœ… Table names use **snake\_case** (e.g. `place_type`, `blog_post`)
* âœ… Field/column names use **camelCase** (e.g. `placeId`, `createdAt`)
* âœ… Use UUID as primary key unless required otherwise
* âœ… Wrap all Supabase operations in reusable functions inside `repositories/`

#### ğŸ’» UI/UX & PWA Rules

* âœ… Use responsive design principles (mobile-first where possible)
* âœ… Implement **PWA features**: web manifest, service worker, and offline support
* âœ… All images must use Supabase storage URLs or base64 previews
* âœ… Blog editor should support live **Markdown** preview
* âœ… Blog viewer pages must render Markdown using `react-markdown` or equivalent

#### ğŸ” Auth Rules

* âœ… Use Supabaseâ€™s **Google OAuth** only for authentication
* âœ… All create/edit/delete actions are gated by authentication
* âœ… Expose login/logout flows through a dedicated `authService`

#### ğŸ”§ Code Quality Rules

* âœ… Use **TypeScript strict mode** (`"strict": true` in tsconfig)
* âœ… Follow ESLint rules: React + TypeScript + Prettier plugin
* âœ… Use named exports, avoid default exports unless absolutely necessary
* âœ… Organize components into folders by feature or domain (not by type)
* âœ… Use `tsx` only for files with JSX/HTML markup, otherwise use `.ts`

#### ğŸ“ Folder Naming Conventions

* âœ… Folder names in **kebab-case** (`place-detail`, `blog-editor`)
* âœ… Use **PascalCase** for component files (`PlaceCard.tsx`)
* âœ… Avoid deeply nested folders â€” favor feature-modular structure (e.g., `/features/blog/`, `/features/place/`)

#### âœ… Cursor Workflow Suggestions

* Use **inline comments** like `// TODO(cursor):` for future refactor tasks
* Use `FIXME(cursor):` to mark broken or risky logic
* Use `NOTE(cursor):` to explain non-obvious architectural decisions
